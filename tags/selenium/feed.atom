<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title type="text">Recent Blog Posts</title>
  <id>/develop-notes/feed.atom</id>
  <updated>2012-03-01T00:00:00Z</updated>
  <link href="/develop-notes/" />
  <link href="/develop-notes/feed.atom" rel="self" />
  <subtitle type="text">Recent blog posts</subtitle>
  <generator>Werkzeug</generator>
  <entry xml:base="/develop-notes/feed.atom">
    <title type="text">Selenium使用记录</title>
    <id>/develop-notes/2012/03/01/notes-for-selenium</id>
    <updated>2012-03-01T00:00:00Z</updated>
    <link href="/develop-notes/2012/03/01/notes-for-selenium" />
    <author>
      <name>稻草人.L</name>
    </author>
    <content type="html">&lt;p&gt;&lt;a class="reference external" href="http://seleniumhq.org/"&gt;SeleniumHQ&lt;/a&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Selenium aotumates browsers.
&lt;/pre&gt;
&lt;p&gt;提供了一个控制浏览器的大好方式, 开源免费可编程.&lt;/p&gt;
&lt;p&gt;自动化浏览器操作, 直接查看官方例子 &lt;a class="reference external" href="http://seleniumhq.org/docs/03_webdriver.html#getting-started-with-selenium-webdriver"&gt;Getting Started With Selenium-WebDriver&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如果要使用Chrome, &lt;a class="reference external" href="http://seleniumhq.org/docs/03_webdriver.html#chrome-driver"&gt;得要有chromedriver&lt;/a&gt;, &lt;a class="reference external" href="http://code.google.com/p/chromedriver/"&gt;chromedriver官方地址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;selenium的WebDriver提供了直接保存screenshot的实现: save_screenshot和get_screenshot_as_file, 还有一个get_screenshot_as_base64:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Gets the screenshot of the current window as a base64 encoded string
which is useful in embedded images in HTML.
&lt;/pre&gt;
&lt;p&gt;单是使用selenium, 会看到浏览器控制的全过程. 如果想不被干扰, 可以用到 &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Xvfb"&gt;xvfb&lt;/a&gt;. python点, 找到 &lt;a class="reference external" href="https://github.com/ponty/PyVirtualDisplay"&gt;PyVirtualDisplay&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pyvirtualdisplay&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Display&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Display&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;768&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c"&gt;# .....&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样, 就能无声无色地控制浏览器了.&lt;/p&gt;
&lt;p&gt;拓展开来, selenium可以解决的问题: 1) ajax页面自动登录; 2) 动态页面内容获取; 3) 网站截图&lt;/p&gt;
&lt;p&gt;不知道哪些提供网站缩略图的实现, 用的是怎样的技术?&lt;/p&gt;
</content>
  </entry>
</feed>

