<!doctype html>
<html>
  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      
      <title>Notes for HTML5 canvas and WebScoket | 稻草人.L的记录</title>
      <!--<link href="http://fonts.googleapis.com/css?family=Vollkorn&subset=latin" rel="stylesheet" type="text/css">-->
      <link rel="stylesheet" href="/develop-notes/static/style.css" type="text/css">
      <link rel="stylesheet" href="/develop-notes/static/pygments.css" type="text/css">
      
  </head>
  <body>
      <div class=container>
          <div class=header>
            <a href="/develop-notes/">稻草人.L的记录</a>
          </div>
          <div class=navigation>
              <ul>
                <li><a href="/develop-notes/archive/">archive</a></li>
                <li><a href="/develop-notes/tags/">tags</a></li>
                <li><a href="/develop-notes/feed.atom" rel="alternate" title="Recent Blog Posts">feed</a></li>
              </ul>
          </div>
          <div class=body>
              
  <h1 class="title">Notes for HTML5 canvas and WebScoket</h1>

  
  <p class=date>written on Tuesday, March 6, 2012
  

  <div class="section" id="the-useful-websites">
<h2>the useful websites</h2>
<p><a class="reference external" href="http://websocket.org/echo.html">WebSocket Echo Test</a>, 可以知道当前使用的浏览器是否支持WebSocket.</p>
<p><a class="reference external" href="http://caniuse.com">When Can I use...</a></p>
<blockquote>
Compatibility tables for support of HTML5, CSS3, SVG,
and more in desktop and mobile browser.</blockquote>
<p>可以查询到canvas, websocket等(其他全部)在各浏览器的支持程度, 应该属于HTML5开放必备收藏之一</p>
<p>对于canvas, IE9之前是不支持的, 当可以用Google的 <a class="reference external" href="http://code.google.com/p/explorercanvas/">explorercanvas</a> hack一下, 来提供相关的实现.</p>
<div class="highlight"><pre>  <span class="c">&lt;!--</span>
<span class="c">Load Canvas support for IE8. ExplorerCanvas courtesy Google.</span>
<span class="c">See: http://code.google.com/p/explorercanvas/</span>
<span class="c">--&gt;</span>
<span class="c">&lt;!--[if lt IE 9]&gt;</span>
<span class="c"> &lt;script src=&quot;excanvas.js&quot;&gt;&lt;/script&gt;</span>
<span class="c">&lt;![endif]--&gt;</span>
</pre></div>
<p><a class="reference external" href="https://developer.mozilla.org/en/Canvas_tutorial">MDN Canvas tutorial</a>, canvas入门上品.</p>
<p>而unionplatform有个协同画板的展示页 <a class="reference external" href="http://www.unionplatform.com/?page_id=2762">Multiuser Drawing Pad</a>, 里面可以下载源码看看画板如何绑定鼠标/touch事件的. 有必要看看此源码, 里面说明了不少事件的使用事项.</p>
<p>XMPP, CometD, WebSocket, all about the realtime apps. 现在Websocket的浏览器支持度并不高(<a class="reference external" href="http://caniuse.com/#feat=websockets">Here</a>), 现在找到的one-for-all方法为 <a class="reference external" href="http://socket.io">Socket.io</a>, 唯一问题在于其是前后端一体化实现, Javasript, Node.js</p>
</div>
<div class="section" id="some-implememnt-details">
<h2>some implememnt details</h2>
<p>在touch devices上面需要的meta信息. ps. ship from oribitermicro_uniondraw. thanks!</p>
<pre class="literal-block">
&lt;!-- Prevents iPhone, IPad, and touch devices from scrolling or zooming when touched --&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0&quot; /&gt;
</pre>
<p>鼠标事件有: canvas.onmousedown, document.onmousemove, docuemtn.onmouseup</p>
<p>触摸屏事件有: document.ontouchstart, document.ontouchmove, docuement.ontouchend</p>
<p>鼠标与触摸屏兼容判断? 如何document有 <em>ontouchstart</em> 事件就不用注册鼠标相关的事件了. ps. 没有查是不是标准.</p>
<p>清空画板的实现</p>
<div class="highlight"><pre>//context.fillStyle = &quot;#ffffff&quot;;
//context.fillRect(0, 0, canvas.width, canvas.height);
// 找到的实现细节有上面两句.说是针对chrome的. 但自己使用时只要下面一句就满足效果了?
canvas.width = canvas.width;
</pre></div>
</div>


  
  <p class=tags>This entry was tagged
    
      <a href="/develop-notes/tags/html5/">html5</a> and 
      <a href="/develop-notes/tags/javascript/">javascript</a>
  

          </div>
          <div class=footer>
              <p>&copy; Copyright 2013 by 稻草人.L
              <p>
              Content licensed under the Creative Commons
              attribution-noncommercial-sharealike License.
              <p>
              联系我: 
	      <span>Tukki.Eta(#)gmail.com</span> &nbsp;
        <a href="http://twitter.com/scarecrow_L">Twitter</a> &nbsp;
        <a href="https://www.github.com/tukki">Github</></a> &nbsp;
        <a href="http://weibo.com/liuyuzh">新浪微博</></a> &nbsp;
      </div>

          </div>
      </div>
  </body>
</html>
